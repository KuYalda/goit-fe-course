{"version":3,"sources":["components/Controls/Controls.module.css","components/Publication/Publication.module.css","components/Counter/Counter.module.css","components/Reader/Reader.module.css","components/Controls/index.js","components/Counter/index.js","components/Publication/index.js","components/Reader/index.js","components/Cabinet/Controls/index.js","components/Cabinet/Balance/index.js","components/Cabinet/TransactionHistory/index.js","components/Cabinet/Dashboard/index.js","App.js","index.js","components/Cabinet/Dashboard/Dashboard.module.css"],"names":["module","exports","Controls","purpose","handNext","handlePrev","stop","onClick","type","className","s","button_disabled","button","Counter","actualValue","maxValue","counter","Publication","text","article","publication_h2","publication_p","Reader","state","idx","nextArticle","setState","ps","items","props","length","prevArticle","this","id","title","publication","reader","controls","key","Component","operation","min","name","placeholder","style","cursor","Balance","balance","deposit","withdraw","TransactionHistory","transactions","map","el","amount","date","shortid","require","toast","configure","Dashboard","e","value","target","parentElement","firstElementChild","depType","textContent","newTransaction","generate","Number","Date","toLocaleString","toastSettings","position","autoClose","pauseOnHover","TYPE","ERROR","sumTransactionsOfType","WARNING","arr","reduce","acc","dashboard","table","textAlign","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e4a71933.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Controls_button__31jsY\",\"button_disabled\":\"Controls_button_disabled__18ylA Controls_button__31jsY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication_h2\":\"Publication_publication_h2__2B-0-\",\"publication_p\":\"Publication_publication_p__1CdOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__2d6O8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__cxwPY\",\"controls\":\"Reader_controls__1JZ80\",\"publication\":\"Reader_publication__9o6Je\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Controls.module.css';\n\nconst Controls = ({ purpose, handNext, handlePrev, stop }) => (\n  <button\n    onClick={purpose === 'Вперед' ? handNext : handlePrev}\n    type=\"button\"\n    className={!stop ? s.button : s.button_disabled}\n  >\n    {purpose}\n  </button>\n);\n\nControls.propTypes = PropTypes.shape({\n  purpose: PropTypes.string,\n  stop: PropTypes.bool,\n  handNext: PropTypes.func,\n  handlePrev: PropTypes.func,\n}).isRequired;\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Counter.module.css';\n\nconst Counter = ({ actualValue, maxValue }) => (\n  <p className={s.counter}>\n    {actualValue}/{maxValue}\n  </p>\n);\n\nCounter.propTypes = PropTypes.objectOf(PropTypes.namber).isRequired;\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Publication.module.css';\n\nconst Publication = ({ text, article }) => (\n  <>\n    <h2 className={s.publication_h2}>{text}</h2>\n    <p className={s.publication_p}>{article}</p>\n  </>\n);\n\nPublication.propTypes = PropTypes.shape({\n  text: PropTypes.string,\n  article: PropTypes.string,\n}).isRequired;\n\nexport default Publication;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Controls from '../Controls';\nimport Counter from '../Counter';\nimport Publication from '../Publication';\nimport s from './Reader.module.css';\n\nexport default class Reader extends Component {\n  static propTypes = PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string))\n    .isRequired;\n  state = {\n    idx: 0,\n  };\n\n  nextArticle = () => {\n    this.setState(ps => {\n      const { items } = this.props;\n      if (ps.idx < items.length) {\n        return {\n          idx: ps.idx + 1,\n        };\n      }\n      return {};\n    });\n  };\n\n  prevArticle = () => {\n    this.setState(ps => {\n      const { items } = this.props;\n      if (ps.idx < items.length) {\n        return {\n          idx: ps.idx - 1,\n        };\n      }\n      return {};\n    });\n  };\n\n  render() {\n    const { idx } = this.state;\n    const { items } = this.props;\n    const { id, title, text: publication } = items[idx];\n    return (\n      <div className={s.reader}>\n        <section className={s.controls}>\n          <Controls\n            handlePrev={this.prevArticle}\n            purpose=\"Назад\"\n            className={s.button}\n            stop={idx === 0}\n          />\n          <Controls\n            handNext={this.nextArticle}\n            purpose=\"Вперед\"\n            className={s.button}\n            stop={items.length === idx + 1}\n          />\n        </section>\n        <Counter actualValue={idx + 1} maxValue={items.length} />\n        <article className={s.publication} key={id}>\n          <Publication text={title} article={publication} />\n        </article>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Controls = ({ operation }) => (\n  <>\n    <input type=\"number\" min=\"0.01\" name=\"amount\" placeholder=\"0\" />\n    <button onClick={operation} type=\"button\" style={{ cursor: 'pointer' }}>\n      Deposit\n    </button>\n    <button onClick={operation} type=\"button\" style={{ cursor: 'pointer' }}>\n      Withdraw\n    </button>\n  </>\n);\n\nControls.propTypes = PropTypes.shape({\n  operation: PropTypes.func,\n});\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Balance = ({ balance, deposit, withdraw }) => (\n  <>\n    {/* eslint-disable-next-line */}\n    <span>⬆️{deposit}$</span>\n    {/* eslint-disable-next-line */}\n    <span>⬇️{withdraw}$</span>\n    <span>Balance: {balance}$</span>\n  </>\n);\n\nBalance.propTypes = PropTypes.objectOf(PropTypes.number).isRequired;\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TransactionHistory = ({ transactions }) =>\n  transactions.map(el => (\n    <tr key={el.id}>\n      <td>{el.type}</td>\n      <td>{el.amount}$</td>\n      <td>{el.date}</td>\n    </tr>\n  ));\n\nTransactionHistory.propTypes = PropTypes.arrayOf(\n  PropTypes.shape({\n    id: PropTypes.string,\n    type: PropTypes.string,\n    date: PropTypes.string,\n    amount: PropTypes.number,\n  }).isRequired,\n);\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Dashboard.module.css';\nimport Controls from '../Controls';\nimport Balance from '../Balance';\nimport TransactionHistory from '../TransactionHistory';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nconst shortid = require('shortid');\n\ntoast.configure();\n\nexport default class Dashboard extends Component {\n  static propTypes = {\n    balance: PropTypes.number,\n    transactions: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        type: PropTypes.string,\n        date: PropTypes.string,\n        amount: PropTypes.number,\n      }),\n    ),\n  };\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  operation = e => {\n    const value = e.target.parentElement.firstElementChild.value;\n    e.target.parentElement.firstElementChild.value = null;\n    const depType = e.target.textContent;\n    const newTransaction = {\n      id: shortid.generate(),\n      type: depType,\n      amount: Number(value),\n      date: new Date().toLocaleString(),\n    };\n    const toastSettings = {\n      position: 'top-center',\n      autoClose: 2500,\n      pauseOnHover: false,\n    };\n    const error = () =>\n      toast('На счету недостаточно средств для проведения операции!', {\n        ...toastSettings,\n        type: toast.TYPE.ERROR,\n      });\n    const warning = () =>\n      toast('Введите корректную сумму для проведения операции!', {\n        ...toastSettings,\n        type: toast.TYPE.WARNING,\n      });\n\n    this.setState(ps => {\n      if (depType === 'Withdraw' && value > ps.balance) {\n        error();\n        return {};\n      } else if (\n        (depType === 'Withdraw' || depType === 'Deposit') &&\n        value > 0\n      ) {\n        return {\n          transactions: [newTransaction, ...ps.transactions],\n          balance:\n            this.sumTransactionsOfType('Deposit', [\n              newTransaction,\n              ...ps.transactions,\n            ]) -\n            this.sumTransactionsOfType('Withdraw', [\n              newTransaction,\n              ...ps.transactions,\n            ]),\n        };\n      } else {\n        warning();\n        return {};\n      }\n    });\n  };\n\n  sumTransactionsOfType = (type, arr) => {\n    const value = arr.reduce((acc, el) => {\n      el.type === type ? (acc += el.amount) : (acc += 0);\n      return acc;\n    }, 0);\n    return value;\n  };\n\n  render() {\n    // console.log('Dashbord.props :', this.props);\n    const { balance, transactions } = this.state;\n    return (\n      <div className={s.dashboard}>\n        <section className={s.controls}>\n          <Controls operation={this.operation} />\n        </section>\n        <section className={s.controls}>\n          <Balance\n            balance={balance}\n            deposit={this.sumTransactionsOfType('Deposit', transactions)}\n            withdraw={this.sumTransactionsOfType('Withdraw', transactions)}\n          />\n        </section>\n        {transactions.length > 0 ? (\n          <table className={s.table}>\n            <thead style={{ textAlign: 'center' }}>\n              <tr>\n                <th>Transaction</th>\n                <th>Amount</th>\n                <th>Date</th>\n              </tr>\n            </thead>\n            <tbody className={s.table}>\n              <TransactionHistory transactions={transactions} />\n            </tbody>\n          </table>\n        ) : (\n          <p style={{ textAlign: 'center' }}>You have no transactions</p>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Reader from './components/Reader';\nimport Dashboard from './components/Cabinet/Dashboard';\nimport article from './db/publications.json';\nimport './App.module.css';\n\nconst App = () => (\n  <>\n    <Reader items={article} />\n    <Dashboard />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__nWfDX\",\"controls\":\"Dashboard_controls__27ZIQ\",\"counter\":\"Dashboard_counter__30QdV\",\"table\":\"Dashboard_table__11zBq\",\"tbody\":\"Dashboard_tbody__ZN241 Dashboard_table__11zBq\"};"],"sourceRoot":""}