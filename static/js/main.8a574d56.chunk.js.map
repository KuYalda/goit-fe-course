{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","services/api.js","components/Searchbar/index.js","components/ImageGalleryItem/index.js","components/ImageGallery/index.js","components/Button/index.js","components/Modal/index.js","App.js","index.js"],"names":["module","exports","fetchImages","searchValue","page","axios","get","SearchBar","onSubmit","useState","setSearchValue","className","s","Searchbar","SearchForm","e","preventDefault","type","SearchForm_button","SearchForm_button_label","SearchForm_input","value","name","autoComplete","placeholder","onChange","target","ImageGalleryItem","items","map","el","key","id","src","webformatURL","alt","tags","lowsrc","largeImageURL","ImageGalleryItem_image","ImageGallery","onClick","Button","Modal","onKeyDown","useEffect","window","addEventListener","removeEventListener","modalRef","createRef","Overlay","ref","INITIAL_VALUE","images","searchQuery","isLoading","modalProps","loaderStyles","textAlign","App","state","getValue","setState","getImages","prevState","handleChangePage","onImgClick","onModalClick","element","current","onModalKeyDown","keyCode","scrollTo","top","document","getElementById","scrollHeight","behavior","pageNumber","API","then","data","hits","catch","err","console","log","finally","prevProps","this","length","color","height","width","style","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.8a574d56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3eKQ3\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5zUwS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__11BIx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","import axios from 'axios';\n\nexport const fetchImages = (searchValue, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${searchValue}&page=${page}&key=14430375-fdc7eae3685172ff0386b04a1&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport const somethingFunc = () => {};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Searchbar.module.css';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [searchValue, setSearchValue] = useState('');\n\n  const handleValueChange = ({ target }) => {\n    const { value } = target;\n\n    setSearchValue(value);\n  };\n\n  const submitSearchValue = e => {\n    e.preventDefault();\n    onSubmit(searchValue);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={submitSearchValue}>\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          value={searchValue}\n          name=\"seachValue\"\n          autoComplete=\"off\"\n          placeholder=\"Search images and photos\"\n          onChange={handleValueChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ items }) => (\n  <>\n    {items &&\n      items.map(el => (\n        <li className={s.ImageGalleryItem} key={el.id}>\n          <img\n            src={el.webformatURL}\n            alt={el.tags}\n            lowsrc={el.largeImageURL}\n            className={s.ImageGalleryItem_image}\n          />\n        </li>\n      ))}\n  </>\n);\n\nImageGalleryItem.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n      lowsrc: PropTypes.string,\n    }),\n  ).isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, onClick }) => {\n  return (\n    <ul className={s.ImageGallery} onClick={onClick}>\n      <ImageGalleryItem items={items} />\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={s.Button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { useEffect, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst Modal = ({ src, alt, onClick, onKeyDown }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', onKeyDown);\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  });\n\n  const modalRef = createRef();\n\n  const modalClose = ({ target }) => {\n    onClick(target, modalRef);\n  };\n\n  return (\n    <div className={s.Overlay} onClick={modalClose} ref={modalRef}>\n      <div className={s.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  alt: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  onKeyDown: PropTypes.func.isRequired,\n  src: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport * as API from './services/api';\nimport SearchBar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nconst INITIAL_VALUE = {\n  images: [],\n  searchQuery: '',\n  page: 1,\n  isLoading: false,\n  modalProps: null,\n};\n\nconst loaderStyles = {\n  textAlign: 'centre',\n};\n\nexport default class App extends Component {\n  state = { ...INITIAL_VALUE };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page } = this.state;\n\n    if (prevState.page < page) {\n      window.scrollTo({\n        top: document.getElementById('root').scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  getValue = searchValue => {\n    const { searchQuery, page } = this.state;\n\n    if (!searchValue) {\n      this.setState({ ...INITIAL_VALUE });\n      return;\n    }\n    if (searchQuery !== searchValue && searchQuery) {\n      this.setState({\n        ...INITIAL_VALUE,\n        searchQuery: searchValue,\n        page: 2,\n      });\n      this.getImages(searchValue, 1);\n      return;\n    }\n    this.setState(prevState => ({\n      ...prevState,\n      page: prevState.page + 1,\n      searchQuery: searchValue,\n    }));\n\n    this.getImages(searchValue, page);\n  };\n\n  handleChangePage = () => {\n    const { searchQuery, page } = this.state;\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n    this.getImages(searchQuery, page);\n  };\n\n  onImgClick = ({ target }) => {\n    this.setState({ modalProps: { src: target.lowsrc, alt: target.alt } });\n  };\n\n  onModalClick = (target, element) => {\n    if (target === element.current) {\n      this.setState({ modalProps: null });\n    }\n  };\n\n  onModalKeyDown = ({ keyCode }) => {\n    if (keyCode === 27) {\n      this.setState({ modalProps: null });\n    }\n    window.scrollTo({\n      top: document.getElementById('root').scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  getImages = (searchValue, pageNumber) => {\n    this.setState({ isLoading: true });\n    if (searchValue && pageNumber) {\n      API.fetchImages(searchValue, pageNumber)\n        .then(({ data }) => {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...data.hits],\n          }));\n        })\n        .catch(err => console.log('err :', err))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  };\n\n  render() {\n    const { images, isLoading, modalProps } = this.state;\n    return (\n      <>\n        <SearchBar onSubmit={this.getValue} />\n        {images.length > 0 && (\n          <>\n            <ImageGallery items={images} onClick={this.onImgClick} />\n            <Button onClick={this.handleChangePage} />\n            {modalProps && (\n              <Modal\n                src={modalProps.src}\n                alt={modalProps.alt}\n                onClick={this.onModalClick}\n                onKeyDown={this.onModalKeyDown}\n              />\n            )}\n          </>\n        )}\n        {isLoading && (\n          <Loader\n            type=\"Grid\"\n            color=\"#3f51b5\"\n            height={500}\n            width={500}\n            style={loaderStyles}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}